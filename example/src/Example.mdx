# Test

## Basic Usage

About

```tsx live=true
const MyForm = ({ children }) => {
  const formState = useForm();
  console.log(formState); // Check your console :)
  return <FielderProvider value={formState}>{children}</FielderProvider>;
};

const FormFields = () => {
  const [ageProps, ageMeta] = useField({
    name: "age",
    validate: useCallback(
      v =>
        Yup.number()
          .required()
          .validateSync(v),
      []
    )
  });

  const [drinkProps, drinkMeta] = useField({
    name: "drink",
    validate: useCallback((v, state) => {
      const age = Number(state.age.value);
      if (!age || !v) {
        return;
      }

      if (Number(age) > 18 && v === "juicebox") {
        throw Error("You're too old for a juicebox.");
      }

      if (Number(age) < 18 && v === "beer") {
        throw Error("You're too young for a beer.");
      }
    })
  });

  const getValdiateStatus = useCallback(
    m => (m.touched && m.error && "error") || "",
    []
  );

  console.log(drinkMeta);
  return (
    <>
      <Form.Item validateStatus={getValdiateStatus(ageMeta)}>
        <Input placeholder="Enter age" {...ageProps} />
        {ageMeta.touched && <ErrorMessage error={ageMeta.error} />}
      </Form.Item>

      <Form.Item validateStatus={getValdiateStatus(drinkMeta)}>
        <RadioGroup {...drinkProps}>
          <Radio value="beer">Beer</Radio>
          <Radio value="juicebox">Juicebox</Radio>
        </RadioGroup>
        {drinkMeta.touched && <ErrorMessage error={drinkMeta.error} />}
      </Form.Item>
      <div>
        Drink
        <label>
          <input {...drinkProps} type="radio" value="Juicebox" />
          Juicebox
        </label>
        <label>
          <input {...drinkProps} type="radio" value="Beer" />
          Beer
        </label>
        {drinkMeta.touched && drinkMeta.error}
      </div>
    </>
  );
};

render(
  <MyForm>
    <FormFields />
  </MyForm>
);
```
